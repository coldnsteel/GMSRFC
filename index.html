<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>🎙️ GMSRFC - Johnny 5 Alive's Community</title>
    <link rel="stylesheet" href="/assets/css/style.css">
    <link rel="manifest" href="/manifest.json">
</head>
<body>
    <div class="container">
        <header class="cosmic-header">
            <h1 class="main-title">🎙️ GMSRFC Community</h1>
            <nav class="nav">
                <a href="#signup">📧 Subscribe</a>
                <a href="#products">💾 Products</a>
                <a href="#podcast">🎙️ Podcast</a>
                <a href="#children">👶 Children</a>
                <a href="/Dogpatch-Market/index.html">🛒 Market</a>
                <a href="https://coldnsteel.github.io/little-x-rocket">📚 Little X Rocket</a>
                <a href="https://coldnsteel.github.io/AI-Comedy-Lounge">😂 Comedy Lounge</a>
                <a href="https://coldnsteel.github.io/KOZMIC-KASINO">🎰 Kozmic Kasino</a>
                <a href="#admin" id="adminLink" style="display: none;">⚡ Admin</a>
            </nav>
        </header>
        <section id="children">
            <h2>👶 Children’s Cosmic Corner</h2>
            <p>Access free content (ages 5–12) with a suggested $5 donation.</p>
            <button class="enter-sector-btn" onclick="window.location.href='/sectors/cashier/index.html?item=donation&amount=5'">💖 Donate $5</button>
        </section>
        <section id="products">
            <h2>Family-Friendly Products</h2>
            <div class="premium-grid" id="productContainer"></div>
        </section>
        <section id="podcast">
            <h2>🎙️ Podcast Network</h2>
            <div class="console-controls" id="recordControls" style="display: none;">
                <button class="enter-sector-btn" id="recordBtn" onclick="toggleRecording()">🔴 Start Recording</button>
                <p>Recording time: <span id="recordTime">00:00</span></p>
            </div>
            <div id="episodeList"></div>
        </section>
    </div>
    <script src="/assets/js/cosmic.js"></script>
    <script>
        let allItems = [
            { id: 'academy-edition', title: 'Academy Edition', description: 'Educational platform.', price: 149, emoji: '🎓', ageRating: 'child-friendly' },
            { id: 'dino-symphony', title: 'Dino Symphony MP3', description: 'Cosmic dinosaur music.', price: 5, emoji: '🎵', ageRating: 'child-friendly' },
            { id: 'aria-wallpaper', title: 'ARIA Wallpaper Pack', description: 'Family-friendly wallpapers.', price: 2, emoji: '🖼️', ageRating: 'child-friendly' },
            { id: 'fortress-pass', title: 'Fortress Pass Certificate', description: 'Cybersecurity access.', price: 8, emoji: '🛡️', ageRating: 'child-friendly' },
            { id: 'little-x-bundle', title: 'Little X Rocket Bundle', description: 'Ebooks and tools.', price: 15, emoji: '🚀', ageRating: 'child-friendly' }
        ];
        let podcastEpisodes = [
            { id: 'sillyosopher-1', title: 'Sillyosopher Saga Ep1', audioUrl: '/podcasts/sillyosopher-saga-ep1.mp3', duration: '5:00', published: true },
            { id: 'sillyosopher-2', title: 'Sillyosopher Saga Ep2', audioUrl: '/podcasts/sillyosopher-saga-ep2.mp3', duration: '5:00', published: true }
        ];
        let isAdminMode = false;
        const adminPassword = 'johnny5alive2025';
        function checkAdminAccess() {
            const params = new URLSearchParams(window.location.search);
            if (params.get('admin') === 'true' && params.get('password') === adminPassword) {
                isAdminMode = true;
                document.getElementById('admin').style.display = 'block';
                document.getElementById('adminLink').style.display = 'inline-block';
                document.getElementById('recordControls').style.display = 'block';
            }
        }
        function renderItems() {
            document.getElementById('productContainer').innerHTML = allItems
                .map(item => `
                    <div class="premium-card gmsrfc-card">
                        <div class="sector-icon">${item.emoji}</div>
                        <h2 class="sector-title">${item.title}</h2>
                        <div class="price-tag gmsrfc-price">$${item.price}</div>
                        <p class="sector-description">${item.description}</p>
                        <button class="enter-sector-btn" onclick="handlePayment('${item.id}', ${item.price})">💳 Buy Now</button>
                    </div>
                `)
                .join('');
        }
        function handlePayment(itemId, amount) {
            const log = JSON.parse(localStorage.getItem('securityLog') || '[]');
            log.push({ issue: `Purchase: ${itemId} ($${amount})`, timestamp: new Date().toISOString(), source: 'GMSRFC' });
            localStorage.setItem('securityLog', JSON.stringify(log));
            window.location.href = `/sectors/cashier/index.html?item=${itemId}&amount=${amount}`;
        }
        // Add podcast recording and other scripts from original
        document.addEventListener('DOMContentLoaded', () => {
            checkAdminAccess();
            renderItems();
            // Add podcast rendering
        });
    </script>
</body>
</html>
